var __slice=[].slice;!function(a,b,c){"use strict";var d,e;d=function(){function d(c,d){var e,f,g,h;for(this.element=a(c),this._setOptions(d),this.map=new b.Map(c,this.options.map),this.markers=[],h=this.options.places,f=0,g=h.length;g>f;f++)e=h[f],this.addMarker(e);this.fit()}return d.prototype.DEFAULTS={places:[{lat:46.521533,lng:6.625276,url:"http://we-studio.ch"}],marker:{},infoWindow:{},map:{zoom:12,center:void 0,mapTypeId:b.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,draggable:!1,scrollwheel:!1}},d.prototype._setOptions=function(b){var c,d,e,f,g;if(this.options=a.extend(!0,{},this.DEFAULTS,b),0===this.options.places.length)throw new Error("`places` is required");for(g=this.options.places,d=function(a){return function(b){if(!b.position){if(b.lat&&b.lng)return b.position=a.createLatLng(b,"position");throw new Error("`position` or `lat`, `lng` required")}}}(this),e=0,f=g.length;f>e;e++)c=g[e],d(c);return this.options.map.center?void 0:this.options.map.center=this.options.map.lat&&this.options.map.lng?this.createLatLng(this.options.map,"center"):this.options.places[0].position},d.prototype.createLatLng=function(a,c){if(null==c&&(c="position"),a[c])return a[c];if(a.lat&&a.lng)return new b.LatLng(a.lat,a.lng);throw new Error("`"+c+"` or `lat`, `lng` required")},d.prototype.addMarker=function(c){var d,e,f,g,h;h=this,g=a.extend({},this.options.marker,c.marker||{}),g.map=this.map,g.position=c.position,f=new b.Marker(g),c.content&&(f.content=c.content),c.url&&(f.url=c.url),this.markers.push(f),f.content?(e=a.extend({},this.options.infoWindow,c.infoWindow||{}),e.content=f.content,e.position=f.position,d=new b.InfoWindow(e),f.infoWindow=d,f.addListener("click",function(){return h.openInfoWindow(this)})):f.url&&f.addListener("click",function(){return h.openUrl(this)})},d.prototype.getMarker=function(a){return this.markers[a]},d.prototype.removeMarker=function(a){var c;c=this.getMarker(a),c&&(b.event.clearListeners(c,"click"),c.setMap(null),delete this.markers[a])},d.prototype.openInfoWindow=function(a){"number"==typeof a&&(a=this.getMarker(a)),a&&a.infoWindow&&a.infoWindow.open(this.map,a)},d.prototype.closeInfoWindow=function(a){"number"==typeof a&&(a=this.getMarker(a)),a&&a.infoWindow&&a.infoWindow.close()},d.prototype.openUrl=function(a){"number"==typeof a&&(a=this.getMarker(a)),console.log("openUrl"),a.url&&c.open(a.url,"_blank")},d.prototype.fit=function(){var a,c,d,e,f,g,h,i,j,k,l;if(0!==this.markers.length){if(1===this.markers.length)return void this.map.setCenter(this.markers[0].getPosition());for(g=d=this.markers[0].getPosition().lat(),i=a=this.markers[0].getPosition().lng(),l=this.markers,j=0,k=l.length;k>j;j++)c=l[j],f=c.getPosition(),f.lat()<g&&(g=f.lat()),f.lat()>d&&(d=f.lat()),f.lng()<i&&(i=f.lat()),f.lng()>d&&(a=f.lat());h=new b.LatLng(g,i),e=new b.LatLng(d,a),this.map.fitBounds(new b.LatLngBounds(h,e))}},d}(),e=a.fn.accessmap,a.fn.accessmap=function(){var b,c;return c=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var e,f,g;e=a(this),f=e.data("accessmap"),g="object"==typeof c&&c,f||e.data("accessmap",f=new d(this,g)),"string"==typeof c&&"_"!==c.charAt(0)&&"function"==typeof f[c]&&f[c].apply(f,b)})},a.fn.accessmap.Constructor=d,a.fn.accessmap.noConflict=function(){return a.fn.accessmap=e,this}}(jQuery,google.maps,window);